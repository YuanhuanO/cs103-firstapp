
<h1> Transactions for <%= user.username %> </h1>

<div class="row">
    <div class="col">
        <p>Here's your transaction info!</p>
    </div>
</div>

<div class="row">
    <div class="col">
        <p>
            <a  class="btn btn-lg btn-primary"
                href="/transactions?groupby=category">Group by category</a></p>
    </div>
    <div class="col">
        <p>
            <a  class="btn btn-lg btn-primary"
                href="/transactions?sortby=category">Sort by category</a></p>
    </div>
    <div class="col">
        <p>
            <a  class="btn btn-lg btn-primary"
                href="/transactions?sortby=amount">Sort by amount</a></p>
    </div>
    <div class="col">
        <p>
            <a  class="btn btn-lg btn-primary"
                href="/transactions?sortby=description">Sort by description</a></p>
    </div>
    <div class="col">
        <p>
            <a  class="btn btn-lg btn-primary"
                href="/transactions?sortby=date">Sort by date</a></p>
    </div>
</div>

<div class="row">
    <div class="col">
      <div class="table-responsive">
        <table class="table table-striped">
          <thead>
            <tr>
              <th>Description</th>
              <th>Category</th>
              <th>Amount</th>
              <th>Date</th>
              <th>Delete</th>
              <th>Edit</th>
            </tr>
          </thead>
          <tbody>
            <% if (transactions.length > 0 && transactions[0].transactions) { %>
                <% transactions.forEach(function(group) { %>
                  <tr>
                    <td colspan="6" class="bg-primary text-white"><%= group._id %></td>
                  </tr>
                  <% group.transactions.forEach(function(transaction) { %>
            <tr>
              <td><%= transaction.description %></td>
              <td><%= transaction.category %></td>
              <td><%= transaction.amount %></td>
              <td><%= transaction.date %></td>
              <td>
                <a href="/transactions/remove/<%=transaction._id %>">
                    <i class="bi bi-trash"></i>
                </a>
              </td>
              <td>
                <a href="/transactions/editTransaction/<%=transaction._id %>">
                  <i class="bi bi-pencil-square"></i>
                </a>
              </td>
            </tr>
            <% }); %>
        <% }); %>
    <% } else { %>
        <% transactions.forEach(function(transaction) { %>
        <tr>
            <td><%= transaction.description %></td>
            <td><%= transaction.category %></td>
            <td><%= transaction.amount %></td>
            <td><%= transaction.date %></td>
            <td>
            <a href="/transactions/remove/<%=transaction._id %>">
                <i class="bi bi-trash"></i>
            </a>
            </td>
            <td>
            <a href="/transactions/edit"></a>
            <a href="/transactions/editTransaction/<%=transaction._id %>">
                <i class="bi bi-pencil-square"></i>
              </a>
            </td>
          </tr>
        <% }); %>
        <% } %>
        </tbody>
    </table>
    </div>
</div>
</div>

<h1>Add a new transaction</h1>
<div class="row">
    <div class="col">
      <form method="POST" action="/transactions">
        <div class="form-group">
          <label for="description">Description:</label>
          <input type="text" class="form-control" id="description" name="description">
        </div>
        <div class="form-group">
          <label for="category">Category:</label>
          <input type="text" class="form-control" id="category" name="category">
        </div>
        <div class="form-group">
          <label for="amount">Amount:</label>
          <input type="number" class="form-control" id="amount" name="amount">
        </div>
        <div class="form-group">
          <label for="date">Date:</label>
          <input type="date" class="form-control" id="date" name="date">
        </div>
        <button type="submit" class="btn btn-primary">Store</button>
      </form>
    </div>
  </div>
  